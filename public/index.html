<!DOCTYPE html>
<html lang="en" ng-app="app">

  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Creative 4</title>

    <script src="/scripts/angular/angular.js"></script>
    <script src="socket.io/socket.io.js"></script>
    <link rel="stylesheet" href="main.css" type="text/css" />
    <link rel="stylesheet" href="/node_modules/angular-material/angular-material.css">
  </head>

  <body ng-controller="MainCtrl as $ctrl">
    <div ng-if="!$ctrl.loggedIn" class="login">
      <h1 class="spinner">CS 260 Slackers Chat Thingy</h1>
      <form ng-submit="$ctrl.login(name)">
        <input type="text" ng-model="name" autofocus placeholder="Enter Nickname" />
        <input type="submit" value="Login" ng-disabled="!name" />
      </form>
      <div ng-if="$ctrl.inUse">nickname in use. Please select a different name</div>
    </div>
    <div ng-if="$ctrl.loggedIn" class="main">
      <div class="online">
        <h3>Online Users -{{$ctrl.users.length}}-</h3>
        <ul>
          <li ng-repeat="user in $ctrl.users track by $index">{{user}}</li>
        </ul>
      </div>
      <div class="message-wrapper">
        <div class="messages">
          Welcome {{$ctrl.name}}
          <ul>
            <li ng-repeat="message in $ctrl.messages track by $index">{{message}}</li>
          </ul>
        </div>
        <form class="input-bar" ng-submit="$ctrl.submitMessage($ctrl.message)">
          <input type="text" name="" ng-model="$ctrl.message" autofocus />
          <input type="submit" value="Submit" ng-disabled="!$ctrl.message.length" />
        </form>
      </div>
    </div>


    <script src="index.js"></script>
  </body>

</html>
